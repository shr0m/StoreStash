<!DOCTYPE html>
<html
  lang="en"
  data-bs-theme="{{ 'dark' if current_theme == 'dark' else 'light' }}"
>
  <head>
    <meta charset="UTF-8" />
    <title>Home</title>

    <!-- Bootstrap 5.3 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="icon"
      href="{{ url_for('static', filename='images/favicon.ico') }}"
      type="image/x-icon"
    />

    <style>
      .container-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .container-card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      }
    </style>
  </head>
  <body class="bg-body text-body">
    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg bg-primary bg-opacity-75 navbar-dark px-4 sticky-top"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <i class="fa-solid fa-box-open me-2"></i>Stock
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarContent"
          aria-controls="navbarContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContent">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/people"
                ><i class="fa-solid fa-person me-1"></i>People</a
              >
            </li>
            {% if session.get('privilege') == 'admin' %}
            <li class="nav-item">
              <a class="nav-link" href="/admin"
                ><i class="fas fa-user-shield me-1"></i>Admin</a
              >
            </li>
            {% endif %}
          </ul>
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/support"
                ><i class="fa-solid fa-circle-question me-1"></i>Support</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/settings"
                ><i class="fas fa-cog me-1"></i>Settings</a
              >
            </li>
            {% if 'user_id' in session %}
            <li class="nav-item">
              <a class="nav-link" href="/logout"
                ><i class="fas fa-sign-out-alt me-1"></i>Logout</a
              >
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
      <!-- Page Title -->
      <h1 class="mb-5 display-4 fw-bold text-center">StoreStash</h1>

      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %}
      <div class="mb-4">
        {% for category, message in messages %}
        <div
          class="alert alert-{{ category }} alert-dismissible fade show"
          role="alert"
        >
          {{ message }}
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"
          ></button>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %}

      <!-- Grid of Cards -->
      <div class="row g-4">
        {% for container in containers %}
        <div class="col-lg-4 col-md-6">
          <a
            href="{{ url_for('dashboard.dashboard', container_id=container.id) }}"
            class="text-decoration-none text-body"
          >
            <div
              class="card shadow-sm rounded-3 container-card bg-primary bg-opacity-10 h-100"
              style="min-height: 250px"
            >
              <div class="card-body d-flex flex-column p-4">
                <h5 class="card-title d-flex align-items-center fs-4">
                  <i class="fa-solid fa-box me-2 text-primary"></i>{{
                  container.name }}
                </h5>
                <p class="card-text text-muted small flex-grow-1">
                  {{ container.total_stock }} items
                </p>
              </div>
            </div>
          </a>
        </div>
        {% else %}
        <div class="col-12">
          <div class="alert alert-info">
            <i class="fa-solid fa-info-circle me-2"></i>No containers found.
          </div>
        </div>
        {% endfor %}
      </div>
    </div>

    <style>
      .container-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        cursor: pointer;
      }
      .container-card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      }
    </style>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
